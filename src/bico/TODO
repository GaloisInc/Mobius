TODO:

- Handle module dependencies
- Properly handle overriding stuff

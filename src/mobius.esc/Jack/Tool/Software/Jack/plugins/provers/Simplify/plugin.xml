<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="Simplifyplugin"
   name="Simplify plug-in"
   version="1.3.1"
   provider-name="INRIA - Everest team"
   class="simplifyPlugin.SimplifyPlugin">

   <runtime>
      <library name="Simplifyplugin.jar">
         <export name="*"/>
      </library>
   </runtime>
   <requires>
      <import plugin="org.eclipse.core.runtime"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.ui"/>

      <import plugin="jack.plugin"/>
      <import plugin="org.eclipse.jdt.core"/>
      <import plugin="JackRequiredPlugins"/>

   </requires>


   <extension
         point="jack.plugin.Prover">
      <language
            translationResultClass="simplifyPlugin.SimplifyTranslationResult"
            name="Simplify"
            languageClass="simplifyPlugin.SimplifyLanguage"
            printerClass="simplifyPlugin.SimplifyPrinter"
            obviousProverClass="simplifyPlugin.SimplifyObviousProver"
            proverStatusClass="simplifyPlugin.ProverSimplifyStatus"
			proofTaskClass = "simplifyPlugin.SimplifyProofTask"
            id="prover.simplify">
      </language>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.jdt.core.ICompilationUnit"
            id="jack.plugin.compile.CompileAction">
         <action
               class="simplifyPlugin.ProveSimplifyAction"
               icon="icons/jml_prove.gif"
               id="jack.plugin.proveSimplifyAction"
               label="with Simplify"
               menubarPath="jack_source_menu/prover/prover_slot">
         </action>
        <action
              class="simplifyPlugin.ProveSimplifyBytecodeAction"
              icon="icons/jml_prove_bc.gif"
              id="jack.plugin.proveSimplifyJpoFileAction"
              label="with Simplify"
              menubarPath="bytecode/prover_jpo/prover_slot_jpo">
         </action>
      </objectContribution>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.jpo"
            id="jack.plugin.compile.CompileAction">
         <action
               class="simplifyPlugin.ProveSimplifyAction"
               icon="icons/jml_prove.gif"
               id="jack.plugin.proveSimplifyAction"
               label="with Simplify"
               menubarPath="jack_menu_jpo/prover_jpo/prover_slot_jpo">
         </action>
      </objectContribution>
   </extension>
    <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="Simplify prover"
            category="jack.plugin.JackPreferencePageProvers"
            class="simplifyPlugin.SimplifyPreferencePage"
            id="Simplifyplugin.SimplifyPreferencePage">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="Simplify prover Buttons"
            visible="false"
            id="jack.provers.simplify">
         <action
               class="simplifyPlugin.ProveSimplifyButton"
               icon="icons/jml_prove.gif"
               id="simplifyplugin.toolbar.proveAction"
               label="Prove with Simplify"
               tooltip="Prove with Simplify">
            <selection
                  class="org.eclipse.jdt.core.ICompilationUnit">
            </selection>
            <enablement>
              <objectClass name="org.eclipse.jdt.core.ICompilationUnit"/>
           </enablement>
         </action>
      </actionSet>
   </extension>

</plugin>

%\documentclass[book,10pt]{book}
\documentclass[10pt,a4paper]{book}
\input{cmd.tex}
\usepackage{url}
\usepackage{amsmath, amsthm, amssymb} 
\usepackage{alltt}
%% \usepackage[T1,T2A]{fontenc}
%% \usepackage{bulgarian,english}{babel}

\usepackage{epsfig}
\usepackage{listings}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{color}
\usepackage{vmargin}

%create an index
\usepackage{makeidx}
\makeindex
\setpapersize{A4}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%USING CYRILLIC FONTS%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[OT2,OT1]{fontenc}
\newcommand\cyr{%
\renewcommand\rmdefault{wncyr}%
\renewcommand\sfdefault{wncyss}%
\renewcommand\encodingdefault{OT2}%
\normalfont
\selectfont}
\DeclareTextFontCommand{\textcyr}{\cyr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%JML STYLES%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\lstlanguagefiles{Jml.sty}
\lstloadlanguages{Jml}
\lstset{language=Jml,flexiblecolumns=false}
\lstset{escapeinside={(*@}{@*)}}
\lstset{language=Jml}
\lstset{frameround=tttt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%FRAME SCRIPT FOR FIGURES%%%%%%%%%%%%%%%%%%%%%%%%%
%% The frameit and Frameit environments formats text within a single%%%%%%
%% Anything can be framed, including verbatim text.%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\doframeit#1{\vbox{%
  \hrule height\fboxrule
    \hbox{%
      \vrule width\fboxrule \kern\fboxsep
      \vbox{\kern\fboxsep #1\kern\fboxsep }%
      \kern\fboxsep \vrule width\fboxrule }%
    \hrule height\fboxrule }}

\def\frameit{\smallskip \advance \linewidth by -7.5pt \setbox0=\vbox \bgroup
\strut \ignorespaces }

\def\endframeit{\ifhmode \par \nointerlineskip \fi \egroup
\doframeit{\box0}}

\date{}


%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% %%%%%%%%%%%%%  FANCY HEADING %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{fancyhdr}


\begin{document} 
\renewcommand{\thepage}{\roman{page}}
\pagestyle{plain}
\renewcommand{\topfraction}{0.9}
\renewcommand{\textfraction}{0.05}
\renewcommand{\floatpagefraction}{0.75}


\input{title.tex}
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Resume en Francais %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{introFrCourt.tex}

\chapter*{}
\input{posv.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%   Remerciements %%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% \setlanguage{bulgarian}
\chapter*{Remerciements}
\input{thanks.tex}
%% \setlanguage{english}

\cleardoublepage
\tableofcontents

\cleardoublepage
\renewcommand{\thepage}{\arabic{page}}
\setcounter{page}{1}


\pagestyle{fancy}
% with this we ensure that the chapter and section
% headings are in lowercase.
\renewcommand{\chaptermark}[1]{%
        \markboth{#1}{}}
\renewcommand{\sectionmark}[1]{%
        \markright{\thesection\ #1}}
\fancyhf{} % delete current header and footer
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\bfseries\rightmark}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}
\addtolength{\headheight}{1.0pt}% {0.5pt} % space for the rule
\fancypagestyle{plain}{%
   \fancyhead{} % get rid of headers on plain pages
   \renewcommand{\headrulewidth}{0pt} % and the line
}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% Introduction %%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Introduction}
  \input{intro/intro.tex}\label{intro}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% Overview of   %%%%%%
%%%%%%%%%%% Java and Java %%%%%%  
%%%%%%%%%%% verification  %%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\chapter{Java verification overview}\label{javaVerif}
   \input{javaVerif/intro.tex}
   \input{javaVerif/source/source.tex}
   \input{javaVerif/prelim.tex}
   \input{javaVerif/verifStyles.tex}
   \input{javaVerif/wpSrc/srcWp.tex}	
   \input{assertLangVC/substitution.tex}
   \input{javaVerif/wpSrc/wpSrcExpr.tex}
   \input{javaVerif/wpSrc/wpSrcStmt.tex}
   

\chapter{Java bytecode language and its operational semantics} \label{opSem:prelim}
  \input{prelim/intro.tex}   
  \input{prelim/notation.tex} 
  \input{prelim/classAndMeths.tex} 
  \input{prelim/progTypes.tex} 
  \input{prelim/config.tex} 
  \input{prelim/heap.tex} 
  \input{prelim/registers.tex} 
  \input{prelim/stack.tex} 
  \input{prelim/pc.tex} 
  \input{prelim/exceptions.tex} 
  \input{prelim/methodLookUp.tex} 
  \input{prelim/designOpSem.tex}
  \input{prelim/operational_sem.tex} 
  \input{prelim/ctrlFlowGraph.tex}
  \input{prelim/relWork.tex} 


\chapter{Bytecode modeling language} \label{bcsl}
  \lstset{numbers=left,numberstyle=\small,stepnumber=1,numbersep=5pt}
  \input{BML/intro.tex} 
  \input{BML/designBml.tex}
  \input{BML/bml.tex}
  \input{BML/typeChecker.tex}
  \input{BML/compiler.tex}
  \input{BML/relWork/relWork}





\chapter{Verification condition generator for Java bytecode } \label{wpGeneral}
  \input{wp/intro.tex}


\section{Assertion language for the verification condition generator}\label{assertLang}
  \input{assertLangVC/assertionLang.tex}\label{assertLang}
  \input{assertLangVC/BMLfragment.tex}
  \input{assertLangVC/interpretation.tex}
  \input{assertLangVC/extendMethod.tex} 
  \input{wp/wpbc.tex} 
  \input{wp/intermPred.tex}
  \input{wp/excPred.tex} 
  \input{wp/wpSingleInstr.tex}
  \input{wp/vcGen.tex}
  \input{wp/smallExample.tex}
  \input{wp/relWork.tex} 
  

\chapter{Correctness of the verification condition generator}\label{proofGeneral}
  \input{proof/intro.tex}
  \input{proof/formulationCorrect.tex} 
  \input{proof/proofOutline.tex}
  \input{proof/substprop.tex}
  \input{proof/proof.tex}
  \input{proof/relWork.tex}




\chapter{Equivalence between Java source and bytecode proof obligations}\label{pogEquiv}
  \input{pogCompile/intro.tex}
  \input{pogCompile/compile/compile.tex}
  \input{pogCompile/compile/compExpr.tex} 
  \input{pogCompile/compile/propCompFun.tex}
    
 \section{Establishing the equivalence between verification conditions on source and bytecode level} \label{pog:wpBcGeneral}
    \input{pogCompile/wpBc/wpProp.tex}
    \input{pogCompile/relatedWork/relWork.tex}
 

\chapter{Constrained memory consumption policies using verification condition generator}\label{applications:memory}
  \input{applications/memory/mydefThesis}
  \lstset{numbers=none}

  \label{sec:verif}
  \input{applications/memory/myIntro}   
  \input{applications/memory/motivatingExample}
  \input{applications/memory/technical}
  \input{applications/memory/examples}
  \section{Related work}\label{sec:rel}
  \input{applications/memory/relatedworks}


\chapter{A low-footprint Java-to-native compilation scheme using BML}\label{applications:optimComp}
  \lstset{frameround=tttt}
  \input{applications/optimCompiler/intro}
  \input{applications/optimCompiler/aheadOfTimeComp}
  \input{applications/optimCompiler/rtExc}
  \input{applications/optimCompiler/algo}
  \input{applications/optimCompiler/spec}
  \input{applications/optimCompiler/proof2optim}
  \input{applications/optimCompiler/results} 
  \input{applications/optimCompiler/limitations} 
  \input{applications/optimCompiler/relWork}
  
 


 \chapter{Conclusion}\label{conclusion}
 \input{conclusion/conclusion}



\appendix
  \input{appendix/bmlEncode/appendix}\label{BMLencode}
  \input{appendix/pogCompile/compile/propCompFun}\label{pogProofs}
    
   % COMMENTED TEMPORARY \input{appendix/pogCompile/pogEquiv/aux}

 
\printindex 
\bibliographystyle{plain}
\bibliography{biblio,specification,bib_mem-wpc,optimComp}
\end{document}

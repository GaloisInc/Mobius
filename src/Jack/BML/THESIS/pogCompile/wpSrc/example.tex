\subsection{Example}\label{pogCompile:wpSrc:example}

In the following, we return back to method \lstinline!square! 
in Fig. \ref{pogComp:source:example} and we apply the \wpName{} function over a fragment of 
the  method. We concentrate on the part of the  code starting at the loop statement and we show the preconditions calculated  w.r.t. 
the method specification in Fig. \ref{pogComp:wpSource:example}.
 
 


\begin{figure}[ht!]
{\scriptsize
 \begin{lstlisting}[frame=trbl] 
{forall s, sqr,
       (0 <= s && s <= v && sqr == s*s )&& (s<v) ==> Prebody
&& 
forall s, sqr,
       (0 <= s && s <= v && sqr == s*s )&& (s>=v) ==> sqr = i*i
&&
0 <= s && s <= v && sqr == s*s}
while( s < v ) {

  {PreBody: 0 <= s+1 && s+1 <= v && sqr + 2*s + 1 == (s+1)*(s+1)}
  sqr = sqr + 2*s + 1;

  {0 <= s+1 && s+1 <= v && sqr == (s+1)*(s+1)}   
  s = s+1;}

{sqr = i*i }
return sqr;

{Post: \result = i*i}    
\end{lstlisting}
}
\caption{\sc method  \lstinline!square! written in our source language}
\label{pogComp:wpSource:example}

\end{figure}

The verification framework we are building in this paper is an
adaptation of static verification techniques based on weakest
precondition calculus. It is based upon Java extended static verification
tools using guarded commands language like ESC/Java2~\cite{CokK04} and
what is planned to be done using BoogiePL for the Mobius
PVE~\cite{MobiusPVE07}.


The verification process is made of several steps:
First the program and the aspects are annotated:
\begin{enumerate}
\item the program and its aspects are annotated using Pipa,
\item the behavioural specifications are desugared
\item the specifications of the aspects are compiled into model
methods
\end{enumerate}
Then the proper compilation of aspects is done:
\begin{enumerate}
\item the program is compiled to bytecode with its specifications
\item the program is transformed into guarded commands
\item the model methods are weaved to the program
\end{enumerate}
Finally a weakest precondition calculus is made on the transformed
program, and verification conditions are generated in order to be
solved automatically or interactively.


\subsection{Specifying the program}
\input{annotations}

\subsection{Compilation to invasive model methods}
\input{compilation}
\subsection{Weaving of the models}
\input{weaving}

\subsection{The weakest precondition calculus}

In our framework aspects are considered as methods calls that are
transferred the whole control flow, and are permitted to modify local
variables in the caller methods. Therefore when aspects are weaved
there wp is just like the one of a method call.  For instance if an
advice is weaved before an instruction i, the effective execution of
the program will be of

The aspect are compiled into a list containing the.  The predicate
transformers associated with an advice is similar to the weakest
precondition clause toward an invasive method call i.e. a method call
that would be able to modify local variables as well as the other
program variables.

One of the amusing fact about this approach is that the weakest
precondition calculus is parametized by a new semantic which is given
by the aspects.

General form of the final wp rule: 
\bcode

\\
\ecode
where befores, arounds and afters are the compiled predicate


\documentclass[a4paper]{llncs}

\newcommand{\modif}{\textit{modifiable}}
\newcommand{\inria}{\textsc{Inria}}
\newcommand{\lemme}{\textsc{Lemme}}
\newcommand{\sem}[1]{\ensuremath{\mbox{[\![} {#1} \mbox{]\!]}\/}}

\usepackage{lscape} % it's needed to turn a page
\usepackage{amsmath} % it is needed by the \sem command
\usepackage{alltt} % environment alltt
\input{prooftree} %showing demonstration


\title{The \modif~clause: semantics, verification and application}

\author{
  N\'estor Cata\~no and Marieke Huisman  \\
  \institute{
       \inria~Sophia-Antipolis, France \\
       \lemme~Project
  } 
  \email{\{Nestor.Catano, Marieke.Huisman\}@sophia.inria.fr}
}


\begin{document}
\fussy
\maketitle
\pagestyle{plain}


%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{(Meth-Dec)}\,\,\,&
\begin{prooftree} 
\texttt{m(}\overrightarrow{\texttt{o}}\texttt{).body}\
\overrightarrow{\textsf{mod}}\ 
Y\cup \{\overrightarrow{\texttt{o}}\}\cup \{
\texttt{m(}\overrightarrow{\texttt{o}}\texttt{).locvars}\} 
\justifies
\texttt{m(}\overrightarrow{\texttt{o}}\texttt{)}\ \textsf{mod}\ Y
\end{prooftree}
\end{tabular}
\\[2.5ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%



%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{(Mod-To-Exp)} & 
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
e\ \textsf{mod}\ Y
\using
e\in Expression
\end{prooftree}
\end{tabular}
\\[2.5ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%





%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{(Assg)}\,\,\, & 
\begin{prooftree}
e_1\underline{\in}Y,\ \ e_1\
\textsf{modPE}\ Y,\ \ e_2\ \textsf{modEXP}\ Y
\justifies
e_1\oplus \textup{e}_2\ \textsf{modEXP}\ Y
\using
\oplus \in \{\texttt{=,+=,-=,*=,/=}\}
\end{prooftree}
\\[3.0ex] 
\textsf{(Var-Decl-Assg)}\,\, & 
\begin{prooftree}
\rule[1ex]{0em}{1.5ex}
\texttt{x}\underline{\in}Y,\ \ e\ \textsf{modEXP}\ Y
\justifies
\texttt{T x =}\ e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(Var-Decl)}\,\,\, & 
\begin{prooftree}
\justifies
\texttt{T x}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Pre-Plus)} &
\begin{prooftree}
e\underline{\in}\ Y,\ \ e\ \textsf{modPE}\ Y
\justifies
\texttt{++}e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Pre-Minus)} &
\begin{prooftree}
e\underline{\in}\ Y,\ \ e\ \textsf{modPE}\ Y
\justifies
\texttt{-}\strut\texttt{-}\ e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Post-Plus)}\,\, &
\begin{prooftree}
e\underline{\in}Y,\ \ e\ \textsf{modPE}\ Y
\justifies
e\texttt{++}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(Post-Minus)} &
\begin{prooftree}
e\underline{\in}\ Y,\ \ e\ \textsf{modPE}\ Y
\justifies
e\ \texttt{-}\strut\texttt{-}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Binary)} & 
\begin{prooftree} 
e_1\ \textsf{modPE}\ Y,\ \ e_2\ \textsf{modEXP}\ Y
\justifies
e_1\oplus e_2\ \textsf{modEXP}\ Y
\using
\oplus \in \{
	\begin{array}{l}
		\texttt{<,<=,>,>=,==,!=,||}	\\
		\texttt{\&\&,+,-,*,/,\,\&,\^\ ,|}
	\end{array}
	\}
\end{prooftree}
\\[3.0ex]
\textsf{(Unary)} & 
\begin{prooftree} 
e\ \textsf{modEXP}\ Y
\justifies
\oplus \ e\ \textsf{modEXP}\ Y
\using
\oplus \in \{\texttt{+,-,$\sim$,!}\}
\end{prooftree}
\\[3.0ex] 
\textsf{(Instance)} & 
\begin{prooftree} 
e\ \textsf{modEXP}\ Y
\justifies
e\ \texttt{instanceof C}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(Cast)} & 
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{(T)}e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(Conditional)}\,\, & 
\begin{prooftree} 
e_1\ \textsf{modEXP}\ Y,\ \ e_2\ \textsf{modEXP}\ Y,\ \ e_3\
\textsf{modEXP}\ Y
\justifies
e_1\texttt{?}e_2\texttt{:}e_3\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\end{tabular}
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%



%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{(Exp-To-Pe)} & 
\begin{prooftree}
e\ \textsf{modPE}\ Y
\justifies
e\ \textsf{modEXP}\ Y
\using
e\in Post\!\!-\! expression
\end{prooftree}
\end{tabular}
\\[2.5ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%



%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(Pe-to-Prm)} &
\begin{prooftree}
e\ \textsf{modPRM}\ Y
\justifies
e\ \textsf{modPE}\ Y
\using
e\in \ \textsf{Primary}
\end{prooftree}
\\[3.0ex]
\textsf{(Meth-Inv)}\,\, &
\begin{prooftree}
\sem{e\texttt{.m(}\overrightarrow{\texttt{o}})\texttt{.modifies}}
[\overrightarrow{\texttt{o}}\backslash \overrightarrow{\texttt{q}},
\texttt{this}\backslash e]\sqsubseteq Y,\
e\ \textsf{modPE}\ Y,\
\overrightarrow{\texttt{q}}\ \overrightarrow{\textsf{modEXP}}\ Y
\justifies
e\texttt{.m(}\overrightarrow{\texttt{q}}\texttt{)}\ \textsf{modPE}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Pe-To-Ps)} &
\begin{prooftree}
e_1\ \textsf{modPE}\ Y,\ e_2\ \textsf{modPS}\ Y
\justifies
e_1\ \texttt{.}\ e_2\ \textsf{modPE}\ Y
\end{prooftree}
\\[3.0ex]
\end{tabular}
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%%%




%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(Id-Fld)}\,\, &
\begin{prooftree}
\justifies
\texttt{x}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Super)}\,\, & 
\begin{prooftree}
\justifies
\texttt{super}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(This)}\,\, & 
\begin{prooftree}
\justifies
\texttt{this}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Static)}\,\, &
\begin{prooftree}
\justifies
\texttt{A}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Const)}\,\, &
\begin{prooftree}
\justifies
\texttt{b}\ \textsf{modPRM}\ Y
\using
\texttt{b}\in Constant
\end{prooftree}
\\[3.0ex]
\textsf{(Arr-Fld)}\,\, &
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{a[}e\texttt{]}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Meth)}\,\, &
\begin{prooftree}
\sem{\texttt{this.m(}\overrightarrow{\texttt{o}}\texttt{).modifies}}[\overrightarrow{\texttt{o}} 
\backslash \overrightarrow{\texttt{q}}]\sqsubseteq Y,\ \
\overrightarrow{\texttt{q}}\ \overrightarrow{\textsf{modEXP}}\
\textsc{Y}
\justifies
\texttt{m(}\overrightarrow{\texttt{q}}\texttt{)}\ \textsf{modPRM}\
\textsc{Y}
\end{prooftree}
\\[3.0ex]
\textsf{(New-Exp)}\,\, & 
\begin{prooftree}
\overrightarrow{e}\ \overrightarrow{\textsf{modEXP}}\ Y
\justifies
\texttt{new T(}\overrightarrow{e}\texttt{)}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(New-Arr)}\,\, & 
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{new T[}{e}\texttt{]}\ \textsf{modPRM}\ Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%





%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(Id-Fld)}\,\, &
\begin{prooftree}
\justifies
\texttt{x}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Super)}\,\, & 
\begin{prooftree}
\justifies
\texttt{super}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(This)}\,\, & 
\begin{prooftree}
\justifies
\texttt{this}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Static)}\,\, &
\begin{prooftree}
\justifies
\texttt{A}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Arr-Fld)}\,\, &
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{a[}e\texttt{]}\ \textsf{modPS}\ Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%


\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(Mod-To-Statement)} & 
\begin{prooftree}
e\ \textsf{modSTM}\ Y
\justifies
e\ \textsf{mod}\ Y
\using
e\in Statement
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%
%\textsf{(Seq)}\,\, & 
%\begin{prooftree}
%s\ \textsf{modSTM}\ Y,\ \ t\
%\textsf{modSTM}\ Y
%\justifies
%s\texttt{;}t\ \textsf{modSTM}\ Y
%\end{prooftree}
%\\[3.0ex] 

%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(If-Then)}\,\, & 
\begin{prooftree}
c\ \textsf{modEXP}\ Y,\ \ \overrightarrow{s}\ \overrightarrow{\textsf{mod}}\ Y
\justifies
\texttt{if(}c\texttt{)\{}\overrightarrow{s}\ \texttt{\}}\ 
\textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(If-Then-Else)}\,\, & 
\begin{prooftree}
c\ \textsf{modEXP}\ Y,\ \ \overrightarrow{s}\ \overrightarrow{\textsf{mod}}\ Y,\ \ \overrightarrow{t}\ \overrightarrow{\textsf{mod}}\ Y
\justifies
\texttt{if(}c\texttt{)\{}\overrightarrow{s}\texttt{\}else\{}\overrightarrow{t}\texttt{\}}\
\textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(While)}\,\,\, & 
\begin{prooftree}
c\ \textsf{modEXP}\ Y,\ \ \overrightarrow{s}\ \overrightarrow{\textsf{mod}}\ Y
\justifies
\texttt{while(}c\texttt{)\{}\overrightarrow{s}\texttt{\}}
\end{prooftree}
\\[3.0ex]
\textsf{(Skip)} &  
\begin{prooftree}
\justifies
\texttt{skip}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Break)} & 
\begin{prooftree}
\justifies
\texttt{break}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Break-Lbl)} &
\begin{prooftree}
\justifies
\texttt{break\! lbl}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Continue)} & 
\begin{prooftree} 
\justifies
\texttt{continue}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Continue-Lbl)}\,\, & 
\begin{prooftree} 
\justifies
\texttt{continue\! lbl}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(Return)} & 
\begin{prooftree} \justifies
\texttt{return}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{Return-Exp}\,\, & 
\begin{prooftree} 
e\ \textsf{modEXP}\ Y
\justifies
\texttt{return}\ e\ \textsf{modSTM}\ Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%




%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(In-Var)} &
\begin{prooftree}
\texttt{x}\in \textsc{Y}
\justifies
\texttt{x}\underline{\in}Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Arr)} &
\begin{prooftree}
\texttt{a[}e\texttt{]}\in Y
\justifies
\texttt{a[}e\texttt{]}\underline{\in}Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Exp)} &
\begin{prooftree}
e\texttt{.x}\in Y
\justifies
e\texttt{.x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Exp-Arr)}\,\, &
\begin{prooftree}
e\texttt{.a[}e_1\texttt{]}\in Y
\justifies
e\texttt{.a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Fld-Var)} &
\begin{prooftree}
\backslash \texttt{fields\_of(this)}\in Y
\justifies
\texttt{x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Fld-Arr)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(a)}\in Y
\justifies
\texttt{a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Fld-Exp-Var)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(}e\texttt{)}\in Y
\justifies
e\texttt{.x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Fld-Exp-Arr)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(}e\texttt{.a)}\in Y
\justifies
e\texttt{.a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Reach-Var)} &
\begin{prooftree}
\backslash
\texttt{fields\_of(}\backslash\texttt{reach(}e\texttt{))}\in Y,\ \
\texttt{this}\in \backslash \texttt{reach(}e\texttt{)} 
\justifies
\texttt{x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Reach-Arr)} &
\begin{prooftree}
\backslash \texttt{fields}\_\texttt{of(}\backslash
\texttt{reach(}e_1\texttt{))}\in Y,\ \ \texttt{this.a}\in \backslash
\texttt{reach(}e\texttt{)} 
\justifies
\texttt{a[}e\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Reach-Exp)} &
\begin{prooftree}
\backslash \texttt{fields\_of(}\backslash
\texttt{reach(}e_1\texttt{))}\in Y,\ \ e\in \backslash
\texttt{reach(}e_1\texttt{)}
\justifies
e\texttt{.x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(In-Reach-Exp-Arr)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(}\backslash
\texttt{reach(}e\texttt{))}\in Y,\ \ e_2\texttt{.a}\in \backslash
\texttt{reach(}e\texttt{)}
\justifies
e_2\texttt{.a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%





\end{document}

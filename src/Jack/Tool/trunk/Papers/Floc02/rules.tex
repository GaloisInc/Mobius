
\documentclass[a4paper]{llncs}

\newcommand{\modif}{\textit{modifiable}}
\newcommand{\inria}{\textsc{Inria}}
\newcommand{\lemme}{\textsc{Lemme}}
\newcommand{\sem}[1]{\ensuremath{\mbox{[\![} {#1} \mbox{]\!]}\/}}

\usepackage{lscape} % it's needed to turn a page
\usepackage{amsmath} % it is needed by the \sem command
\usepackage{alltt} % environment alltt
\input{prooftree} %showing demonstration


\title{The \modif~clause: semantics, verification and application}

\author{
  N\'estor Cata\~no and Marieke Huisman  \\
  \institute{
       \inria~Sophia-Antipolis, France \\
       \lemme~Project
  } 
  \email{\{Nestor.Catano, Marieke.Huisman\}@sophia.inria.fr}
}


\begin{document}
\fussy
\maketitle
\pagestyle{plain}


%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{(METH-DEC)}\,\,\,&
\begin{prooftree} 
\texttt{m(}\overrightarrow{\texttt{o}}\texttt{).body}\
\overrightarrow{\textsf{mod}}\ 
Y\cup \{\overrightarrow{\texttt{o}}\}\cup \{
\texttt{m(}\overrightarrow{\texttt{o}}\texttt{).locvars}\} 
\justifies
\texttt{m(}\overrightarrow{\texttt{o}}\texttt{)}\ \textsf{mod}\ Y
\end{prooftree}
\end{tabular}
\\[2.5ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%



%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{MOD-TO-EXP} & 
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
e\ \textsf{mod}\ Y
\using
e\in Expression
\end{prooftree}
\end{tabular}
\\[2.5ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%





%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{(ASSG)}\,\,\, & 
\begin{prooftree}
e_1\underline{\in}Y,\ \ e_1\
\textsf{modPE}\ Y,\ \ e_2\ \textsf{modEXP}\ Y
\justifies
e_1\oplus \textup{e}_2\ \textsf{modEXP}\ Y
\using
\oplus \in \{\texttt{=,+=,-=,*=,/=}\}
\end{prooftree}
\\[3.0ex] 
\textsf{(VAR-DECL-ASSG)}\,\, & 
\begin{prooftree}
\rule[1ex]{0em}{1.5ex}
\texttt{x}\underline{\in}Y,\ \ e\ \textsf{modEXP}\ Y
\justifies
\texttt{T x =}\ e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(VAR-DECL)}\,\,\, & 
\begin{prooftree}
\justifies
\texttt{T x}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(PRE-PLUS)} &
\begin{prooftree}
e\underline{\in}\ Y,\ \ e\ \textsf{modPE}\ Y
\justifies
\texttt{++}e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(PRE-MINUS)} &
\begin{prooftree}
e\underline{\in}\ Y,\ \ e\ \textsf{modPE}\ Y
\justifies
\texttt{-}\strut\texttt{-}\ e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(POST-PLUS)}\,\, &
\begin{prooftree}
e\underline{\in}Y,\ \ e\ \textsf{modPE}\ Y
\justifies
e\texttt{++}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{POST-MINUS} &
\begin{prooftree}
e\underline{\in}\ Y,\ \ e\ \textsf{modPE}\ Y
\justifies
e\ \texttt{-}\strut\texttt{-}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(BINARY)} & 
\begin{prooftree} 
e_1\ \textsf{modPE}\ Y,\ \ e_2\ \textsf{modEXP}\ Y
\justifies
e_1\oplus e_2\ \textsf{modEXP}\ Y
\using
\oplus \in \{
	\begin{array}{l}
		\texttt{<,<=,>,>=,==,!=,||}	\\
		\texttt{\&\&,+,-,*,/,\,\&,\^\ ,|}
	\end{array}
	\}
\end{prooftree}
\\[3.0ex]
\textsf{(UNARY)} & 
\begin{prooftree} 
e\ \textsf{modEXP}\ Y
\justifies
\oplus \ e\ \textsf{modEXP}\ Y
\using
\oplus \in \{\texttt{+,-,$\sim$,!}\}
\end{prooftree}
\\[3.0ex] 
\textsf{(INSTANCE)} & 
\begin{prooftree} 
e\ \textsf{modEXP}\ Y
\justifies
e\ \texttt{instanceof C}\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(CAST)} & 
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{(T)}e\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(CONDITIONAL)}\,\, & 
\begin{prooftree} 
e_1\ \textsf{modEXP}\ Y,\ \ e_2\ \textsf{modEXP}\ Y,\ \ e_3\
\textsf{modEXP}\ Y
\justifies
e_1\texttt{?}e_2\texttt{:}e_3\ \textsf{modEXP}\ Y
\end{prooftree}
\\[3.0ex]
\end{tabular}
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%



%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[2.5ex]
\begin{tabular}{ll}
\textsf{EXP-TO-PE} & 
\begin{prooftree}
e\ \textsf{modPE}\ Y
\justifies
e\ \textsf{modEXP}\ Y
\using
e\in Post\!-\! expression
\end{prooftree}
\end{tabular}
\\[2.5ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%



%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{EXP-PRM} &
\begin{prooftree}
e\ \textsf{modPRM}\ Y
\justifies
e\ \textsf{modPE}\ Y
\using
e\in \ \textsf{Primary}
\end{prooftree}
\\[3.0ex]
\textsf{(METH-INV)}\,\, &
\begin{prooftree}
\sem{e\texttt{.m(}\overrightarrow{\texttt{o}})\texttt{.modifies}}
[\overrightarrow{\texttt{o}}\backslash \overrightarrow{\texttt{q}},
\texttt{this}\backslash e]\sqsubseteq Y,\
e\ \textsf{modPE}\ Y,\
\overrightarrow{\texttt{q}}\ \overrightarrow{\textsf{modEXP}}\ Y
\justifies
e\texttt{.m(}\overrightarrow{\texttt{q}}\texttt{)}\ \textsf{modPE}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{PE-TO-PE} &
\begin{prooftree}
e_1\ \textsf{modPE}\ Y,\ e_2\ \textsf{modPS}\ Y
\justifies
e_1\ \texttt{.}\ e_2\ \textsf{modPE}\ Y
\end{prooftree}
\\[3.0ex]
\end{tabular}
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%%%




%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(ID-FLD)}\,\, &
\begin{prooftree}
\justifies
\texttt{x}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(SUPER)}\,\, & 
\begin{prooftree}
\justifies
\texttt{super}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(THIS)}\,\, & 
\begin{prooftree}
\justifies
\texttt{this}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(STATIC)}\,\, &
\begin{prooftree}
\justifies
\texttt{A}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(CONST)}\,\, &
\begin{prooftree}
\justifies
\texttt{b}\ \textsf{modPRM}\ Y
\using
\texttt{b}\in Constant
\end{prooftree}
\\[3.0ex]
\textsf{(ARR-FLD)}\,\, &
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{a[}e\texttt{]}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(METH)}\,\, &
\begin{prooftree}
\sem{\texttt{this.m(}\overrightarrow{\texttt{o}}\texttt{).modifies}}[\overrightarrow{\texttt{o}} 
\backslash \overrightarrow{\texttt{q}}]\sqsubseteq Y,\ \
\overrightarrow{\texttt{q}}\ \overrightarrow{\textsf{modEXP}}\
\textsc{Y}
\justifies
\texttt{m(}\overrightarrow{\texttt{q}}\texttt{)}\ \textsf{modPRM}\
\textsc{Y}
\end{prooftree}
\\[3.0ex]
\textsf{(NEW-EXP)}\,\, & 
\begin{prooftree}
\overrightarrow{e}\ \overrightarrow{\textsf{modEXP}}\ Y
\justifies
\texttt{new T(}\overrightarrow{e}\texttt{)}\ \textsf{modPRM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(NEW-ARR)}\,\, & 
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{new T[}{e}\texttt{]}\ \textsf{modPRM}\ Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%





%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(ID-FLD)}\,\, &
\begin{prooftree}
\justifies
\texttt{x}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(SUPER)}\,\, & 
\begin{prooftree}
\justifies
\texttt{super}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(THIS)}\,\, & 
\begin{prooftree}
\justifies
\texttt{this}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(STATIC)}\,\, &
\begin{prooftree}
\justifies
\texttt{A}\ \textsf{modPS}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(ARR-FLD)}\,\, &
\begin{prooftree}
e\ \textsf{modEXP}\ Y
\justifies
\texttt{a[}e\texttt{]}\ \textsf{modPS}\ Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%


\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(MOD-TO-STATEMENT)} & 
\begin{prooftree}
e\ \textsf{modSTM}\ Y
\justifies
e\ \textsf{mod}\ Y
\using
e\in Statement
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%


%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(SEQ)}\,\, & 
\begin{prooftree}
s\ \textsf{modSTM}\ Y,\ \ t\
\textsf{modSTM}\ Y
\justifies
s\texttt{;}t\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex] 
\textsf{(IF-THEN)}\,\, & 
\begin{prooftree}
c\ \textsf{modEXP}\ Y,\ \ s\ \textsf{modSTM}\ Y
\justifies
\texttt{if(}c\texttt{)\{}s\ \texttt{\}}\ 
\textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(IF-THEN-ELSE)}\,\, & 
\begin{prooftree}
c\ \textsf{modEXP}\ Y,\ \ s\ \textsf{modSTM}\ Y,\ \ \textsf{t}\
\textsf{modSTM}\ Y
\justifies
\texttt{if(}c\texttt{)\{}s\texttt{\}else\{}t\texttt{\}}\
\textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(WHILE)}\,\,\, & 
\begin{prooftree}
c\ \textsf{modEXP}\ Y,\ \ b\ \textsf{modSTM}\ Y
\justifies
\texttt{while(}c\texttt{)\{}b\texttt{\}}
\end{prooftree}
\\[3.0ex]
\textsf{(SKIP)} &  
\begin{prooftree}
\justifies
\texttt{skip}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(BREAK)} & 
\begin{prooftree}
\justifies
\texttt{break}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(BREAK-LBL)} &
\begin{prooftree}
\justifies
\texttt{break\! lbl}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(CONTINUE)} & 
\begin{prooftree} 
\justifies
\texttt{continue}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(CONTINUE-LBL)}\,\, & 
\begin{prooftree} 
\justifies
\texttt{continue\! lbl}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{(RETURN)} & 
\begin{prooftree} \justifies
\texttt{return}\ \textsf{modSTM}\ Y
\end{prooftree}
\\[3.0ex]
\textsf{RETURN-EXP}\,\, & 
\begin{prooftree} 
e\ \textsf{modEXP}\ Y
\justifies
\texttt{return}\ e\ \textsf{modSTM}\ Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%




%%%%%%%%%%%%
\begin{table}
\rule{\linewidth}{0.25mm}
\\[3.0ex]
\begin{tabular}{ll}
\textsf{(IN-VAR)} &
\begin{prooftree}
\texttt{x}\in \textsc{Y}
\justifies
\texttt{x}\underline{\in}Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-ARR)} &
\begin{prooftree}
\texttt{a[}e\texttt{]}\in Y
\justifies
\texttt{a[}e\texttt{]}\underline{\in}Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-EXP)} &
\begin{prooftree}
e\texttt{.x}\in Y
\justifies
e\texttt{.x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-EXP-ARR)}\,\, &
\begin{prooftree}
e\texttt{.a[}e_1\texttt{]}\in Y
\justifies
e\texttt{.a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(INTERV-ARR)}\,\, & 
\begin{prooftree}
\texttt{a[}i..j\texttt{]}\in Y,\ i\leq e\leq j
\justifies
\texttt{a[}e\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(TIMES-ARR)}\,\, &
\begin{prooftree}
\texttt{a[}*\texttt{]}\in Y
\justifies
\texttt{a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-FLD-VAR)} &
\begin{prooftree}
\backslash \texttt{fields\_of(this)}\in Y
\justifies
\texttt{x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-FLD-EXP)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(}e\texttt{)}\in Y
\justifies
e\texttt{.x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-FLD-ARR)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(a)}\in Y
\justifies
\texttt{a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-EXP-ARR-FLD)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(}e\texttt{.a)}\in Y
\justifies
e\texttt{.a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-REACH-VAR)} &
\begin{prooftree}
\backslash
\texttt{fields\_of(}\backslash\texttt{reach(}e\texttt{))}\in Y,\ \
\texttt{this}\in \backslash \texttt{reach(}e\texttt{)} 
\justifies
\texttt{x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-REACH-ARR)} &
\begin{prooftree}
\backslash \texttt{fields}\_\texttt{of(}\backslash
\texttt{reach(}e_1\texttt{))}\in Y,\ \ \texttt{this.a}\in \backslash
\texttt{reach(}e\texttt{)} 
\justifies
\texttt{a[}e\texttt{]}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-REACH-EXP)} &
\begin{prooftree}
\backslash \texttt{fields\_of(}\backslash
\texttt{reach(}e_1\texttt{))}\in Y,\ \ e\in \backslash
\texttt{reach(}e_1\texttt{)}
\justifies
e\texttt{.x}\underline{\in} Y
\end{prooftree}
\\[3.0ex]
\textsf{(IN-REACH-EXP-ARR)}\,\, &
\begin{prooftree}
\backslash \texttt{fields\_of(}\backslash
\texttt{reach(}e\texttt{))}\in Y,\ \ e_2\texttt{.a}\in \backslash
\texttt{reach(}e\texttt{)}
\justifies
e_2\texttt{.a[}e_1\texttt{]}\underline{\in} Y
\end{prooftree}
\end{tabular}
\\[3.0ex]
\rule{\linewidth}{0.25mm}
\end{table}
%%%%%%%%%%





\end{document}
